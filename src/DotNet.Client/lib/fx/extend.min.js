$.extend(String.prototype,{isPositiveInteger:function(){return new RegExp(/^[1-9]\d*$/).test(this)},isInteger:function(){return new RegExp(/^\d+$/).test(this)},isNumber:function(){return new RegExp(/^([-]{0,1}(\d+)[\.]+(\d+))|([-]{0,1}(\d+))$/).test(this)},includeChinese:function(){return new RegExp(/[\u4E00-\u9FA5]/).test(this)},trim:function(){return this.replace(/(^\s*)|(\s*$)|\r|\n/g,"")},startsWith:function(t){return 0===this.indexOf(t)},endsWith:function(t){var e=this.length-t.length;return e>=0&&this.lastIndexOf(t)===e},replaceSuffix:function(t){return this.replace(/\[[0-9]+\]/,"["+t+"]").replace("#index#",t)},replaceSuffix2:function(t){return this.replace(/\-(i)([0-9]+)$/,"-i"+t).replace("#index#",t)},trans:function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"')},encodeTXT:function(){return this.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;")},replaceAll:function(t,e){return this.replace(new RegExp(t,"gm"),e)},replacePlh:function(t){return t=t||$(document),this.replace(/{\/?[^}]*}/g,function(e){var n=t.find(e.replace(/[{}]+/g,""));return n?n.val():e})},replaceMsg:function(t){return this.replace(new RegExp("({.*})","g"),t)},replaceTm:function(t){return t?this.replace(RegExp("({[A-Za-z_]+[A-Za-z0-9_-]*})","g"),function(e){return t[e.replace(/[{}]+/g,"")]}):this},replaceTmById:function(t){var e=t||$(document);return this.replace(RegExp("({[A-Za-z_]+[A-Za-z0-9_-]*})","g"),function(t){var n=e.find("#"+t.replace(/[{}]+/g,""));return n.val()?n.val():t})},isFinishedTm:function(){return!new RegExp("{/?[^}]*}").test(this)},skipChar:function(t){return this&&0!==this.length?this.charAt(0)===t?this.substring(1).skipChar(t):this:""},isValidPwd:function(){return new RegExp(/^([_]|[a-zA-Z0-9]){6,32}$/).test(this)},isValidMail:function(){return new RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(this.trim())},isSpaces:function(){for(var t=0;t<this.length;t+=1){var e=this.charAt(t);if(" "!=e&&"\n"!=e&&"\t"!=e&&"\r"!=e)return!1}return!0},isPhone:function(){return new RegExp(/(^([0-9]{3,4}[-])?\d{3,8}(-\d{1,6})?$)|(^\([0-9]{3,4}\)\d{3,8}(\(\d{1,6}\))?$)|(^\d{3,8}$)/).test(this)},isUrl:function(){return new RegExp(/^[a-zA-z]+:\/\/([a-zA-Z0-9\-\.]+)([-\w .\/?%&=:]*)$/).test(this)},isExternalUrl:function(){return this.isUrl()&&this.indexOf("://"+document.domain)==-1},toBool:function(){return"true"===this.toLowerCase()},toJson:function(){var t=this;try{return"object"==typeof t&&(t=t.toString()),t.trim().match("^{(.+:.+,*){1,}}$")?JSON.parse(this):this}catch(e){return this}},toObject:function(){var t;try{var e=$.trim(this);e&&("{"!=e.substring(0,1)&&(e="{"+e+"}"),t=new Function("return "+e)())}catch(n){t=null,alert('String toObjï¼šParse "String" to "Object" error! Your str is: '+this)}return t},toFunction:function(){if(this&&0!=this.length){if(this.startsWith("function"))return new Function("return "+this)();for(var t=this.split("."),e=window,n=0;n<t.length;n++)e=e[t[n]];return"function"==typeof e?e:void 0}},setUrlParam:function(t,e){var n,r=this;if(r.indexOf("?")==-1)return r+"?"+t+"="+e;n=r.substr(r.indexOf("?")+1);var i,s,u="",o="0";if(n.indexOf("&")!=-1){s=n.split("&");for(var a in s)s[a].split("=")[0]==t?(i=e,o="1"):i=s[a].split("=")[1],u=u+s[a].split("=")[0]+"="+i+"&";u=u.substr(0,u.length-1),"0"==o&&u==n&&(u=u+"&"+t+"="+e)}else n.indexOf("=")!=-1?(s=n.split("="),s[0]==t?(i=e,o="1"):i=s[1],u=s[0]+"="+i,"0"==o&&u==n&&(u=u+"&"+t+"="+e)):u=t+"="+e;return r.substr(0,r.indexOf("?"))+"?"+u},format:function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}}),$.extend(Function.prototype,{toFunction:function(){return this}}),$.extend(Date.prototype,{format:function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},formatDate:function(t){return this.format("yyyy-MM-dd")},formatDateTime:function(t){return this.format("yyyy-MM-dd hh:mm:ss")},formatTime:function(t){return this.format("hh:mm:ss")}});