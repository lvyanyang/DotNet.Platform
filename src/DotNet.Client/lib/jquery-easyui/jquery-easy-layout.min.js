!function(e){e.fn.resizable=function(t,a){function n(t){var a=t.data,n=e.data(a.target,"resizable").options;if(a.dir.indexOf("e")!=-1){var i=a.startWidth+t.pageX-a.startX;i=Math.min(Math.max(i,n.minWidth),n.maxWidth),a.width=i}if(a.dir.indexOf("s")!=-1){var o=a.startHeight+t.pageY-a.startY;o=Math.min(Math.max(o,n.minHeight),n.maxHeight),a.height=o}if(a.dir.indexOf("w")!=-1){var i=a.startWidth-t.pageX+a.startX;i=Math.min(Math.max(i,n.minWidth),n.maxWidth),a.width=i,a.left=a.startLeft+a.startWidth-a.width}if(a.dir.indexOf("n")!=-1){var o=a.startHeight-t.pageY+a.startY;o=Math.min(Math.max(o,n.minHeight),n.maxHeight),a.height=o,a.top=a.startTop+a.startHeight-a.height}}function i(t){var a=t.data,n=e(a.target);n.css({left:a.left,top:a.top}),n.outerWidth()!=a.width&&n._outerWidth(a.width),n.outerHeight()!=a.height&&n._outerHeight(a.height)}function o(t){return e.fn.resizable.isResizing=!0,e.data(t.data.target,"resizable").options.onStartResize.call(t.data.target,t),!1}function s(t){return n(t),0!=e.data(t.data.target,"resizable").options.onResize.call(t.data.target,t)&&i(t),!1}function l(t){return e.fn.resizable.isResizing=!1,n(t,!0),i(t),e.data(t.data.target,"resizable").options.onStopResize.call(t.data.target,t),e(document).unbind(".resizable"),e("body").css("cursor",""),!1}return"string"==typeof t?e.fn.resizable.methods[t](this,a):this.each(function(){function a(t){var a=e(t.data.target),i="",o=a.offset(),s=a.outerWidth(),l=a.outerHeight(),r=n.edge;t.pageY>o.top&&t.pageY<o.top+r?i+="n":t.pageY<o.top+l&&t.pageY>o.top+l-r&&(i+="s"),t.pageX>o.left&&t.pageX<o.left+r?i+="w":t.pageX<o.left+s&&t.pageX>o.left+s-r&&(i+="e");for(var d=n.handles.split(","),h=0;h<d.length;h++){var c=d[h].replace(/(^\s*)|(\s*$)/g,"");if("all"==c||c==i)return i}return""}var n=null,i=e.data(this,"resizable");i?(e(this).unbind(".resizable"),n=e.extend(i.options,t||{})):(n=e.extend({},e.fn.resizable.defaults,e.fn.resizable.parseOptions(this),t||{}),e.data(this,"resizable",{options:n})),1!=n.disabled&&e(this).bind("mousemove.resizable",{target:this},function(t){if(!e.fn.resizable.isResizing){var n=a(t);""==n?e(t.data.target).css("cursor",""):e(t.data.target).css("cursor",n+"-resize")}}).bind("mouseleave.resizable",{target:this},function(t){e(t.data.target).css("cursor","")}).bind("mousedown.resizable",{target:this},function(t){function n(a){var n=parseInt(e(t.data.target).css(a));return isNaN(n)?0:n}var i=a(t);if(""!=i){var r={target:t.data.target,dir:i,startLeft:n("left"),startTop:n("top"),left:n("left"),top:n("top"),startX:t.pageX,startY:t.pageY,startWidth:e(t.data.target).outerWidth(),startHeight:e(t.data.target).outerHeight(),width:e(t.data.target).outerWidth(),height:e(t.data.target).outerHeight(),deltaWidth:e(t.data.target).outerWidth()-e(t.data.target).width(),deltaHeight:e(t.data.target).outerHeight()-e(t.data.target).height()};e(document).bind("mousedown.resizable",r,o),e(document).bind("mousemove.resizable",r,s),e(document).bind("mouseup.resizable",r,l),e("body").css("cursor",i+"-resize")}})})},e.fn.resizable.methods={options:function(t){return e.data(t[0],"resizable").options},enable:function(t){return t.each(function(){e(this).resizable({disabled:!1})})},disable:function(t){return t.each(function(){e(this).resizable({disabled:!0})})}},e.fn.resizable.parseOptions=function(t){var a=e(t);return e.extend({},e.parser.parseOptions(t,["handles",{minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number",edge:"number"}]),{disabled:!!a.attr("disabled")||void 0})},e.fn.resizable.defaults={disabled:!1,handles:"n, e, s, w, ne, se, sw, nw, all",minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4,edge:5,onStartResize:function(e){},onResize:function(e){},onStopResize:function(e){}},e.fn.resizable.isResizing=!1}(jQuery),function($){function _1(e){e._remove()}function _3(e,t){var a=$.data(e,"panel"),n=a.options,i=a.panel,o=i.children(".panel-header"),s=i.children(".panelx-body"),l=i.children(".panel-footer");if(t&&$.extend(n,{width:t.width,height:t.height,minWidth:t.minWidth,maxWidth:t.maxWidth,minHeight:t.minHeight,maxHeight:t.maxHeight,left:t.left,top:t.top}),i._size(n),o.add(s)._outerWidth(i.width()),isNaN(parseInt(n.height))){s.css("height","");var r=$.parser.parseValue("minHeight",n.minHeight,i.parent()),d=$.parser.parseValue("maxHeight",n.maxHeight,i.parent()),h=o._outerHeight()+l._outerHeight()+i._outerHeight()-i.height();s._size("minHeight",r?r-h:""),s._size("maxHeight",d?d-h:"")}else s._outerHeight(i.height()-o._outerHeight()-l._outerHeight());i.css({height:"",minHeight:"",maxHeight:"",left:n.left,top:n.top}),n.onResize.apply(e,[n.width,n.height]),$(e).panel("doLayout")}function _f(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel;t&&(null!=t.left&&(a.left=t.left),null!=t.top&&(a.top=t.top)),n.css({left:a.left,top:a.top}),a.onMove.apply(e,[a.left,a.top])}function _14(e){$(e).addClass("panelx-body")._size("clear");var t=$('<div class="panelx"></div>').insertBefore(e);return t[0].appendChild(e),t.bind("_resize",function(t,a){return($(this).hasClass("easyui-fluid")||a)&&_3(e),!1}),t}function _18(_19){function _1d(){if(_1b.noheader||!_1b.title&&!_1b.header)_1(_1c.children(".panel-header")),_1c.children(".panelx-body").addClass("panel-body-noheader");else{if(_1b.header)$(_1b.header).addClass("panel-header").prependTo(_1c);else{var _22=_1c.children(".panel-header");_22.length||(_22=$('<div class="panel-header"></div>').prependTo(_1c)),$.isArray(_1b.tools)||_22.find("div.panel-tool .panel-tool-a").appendTo(_1b.tools),_22.empty();var _23=$('<div class="panel-title"></div>').html(_1b.title).appendTo(_22);_1b.iconCls&&(_23.addClass("panel-with-icon"),$('<div class="panel-icon"></div>').addClass(_1b.iconCls).appendTo(_22));var _24=$('<div class="panel-tool"></div>').appendTo(_22);_24.bind("click",function(e){e.stopPropagation()}),_1b.tools&&($.isArray(_1b.tools)?$.map(_1b.tools,function(t){_25(_24,t.iconCls,eval(t.handler))}):$(_1b.tools).children().each(function(){$(this).addClass($(this).attr("iconCls")).addClass("panel-tool-a").appendTo(_24)})),_1b.collapsible&&_25(_24,"panel-tool-collapse",function(){1==_1b.collapsed?_4d(_19,!0):_3b(_19,!0)}),_1b.minimizable&&_25(_24,"panel-tool-min",function(){_58(_19)}),_1b.maximizable&&_25(_24,"panel-tool-max",function(){1==_1b.maximized?_5c(_19):_3a(_19)}),_1b.closable&&_25(_24,"panel-tool-close",function(){_3c(_19)})}_1c.children("div.panelx-body").removeClass("panel-body-noheader")}}function _25(e,t,a){var n=$('<a href="javascript:void(0)"></a>').addClass(t).appendTo(e);n.bind("click",a)}function _1e(){_1b.footer?($(_1b.footer).addClass("panel-footer").appendTo(_1c),$(_19).addClass("panel-body-nobottom")):(_1c.children(".panel-footer").remove(),$(_19).removeClass("panel-body-nobottom"))}var _1a=$.data(_19,"panel"),_1b=_1a.options,_1c=_1a.panel;_1c.css(_1b.style),_1c.addClass(_1b.cls),_1d(),_1e();var _1f=$(_19).panel("header"),_20=$(_19).panel("body"),_21=$(_19).siblings(".panel-footer");_1b.border?(_1f.removeClass("panel-header-noborder"),_20.removeClass("panel-body-noborder"),_21.removeClass("panel-footer-noborder")):(_1f.addClass("panel-header-noborder"),_20.addClass("panel-body-noborder"),_21.addClass("panel-footer-noborder")),_1f.addClass(_1b.headerCls),_20.addClass(_1b.bodyCls),$(_19).attr("id",_1b.id||""),_1b.content&&($(_19).panel("clear"),$(_19).html(_1b.content),$.parser.parse($(_19)))}function _28(e,t){var a=$.data(e,"panel"),n=a.options;if(i&&(n.queryParams=t),n.href&&(!a.isLoaded||!n.cache)){var i=$.extend({},n.queryParams);if(0==n.onBeforeLoad.call(e,i))return;a.isLoaded=!1,$(e).panel("clear"),n.loadingMessage&&$(e).mask("正在加载...",200),n.loader.call(e,i,function(t){var i=n.extractor.call(e,t);$(e).html(i),$.parser.parse($(e)),n.onLoad.apply(e,arguments),a.isLoaded=!0,$(e).unmask()},function(){$(e).unmask(),n.onLoadError.apply(e,arguments)})}}function _30(e){var t=$(e);t.find(".combo-f").each(function(){$(this).combo("destroy")}),t.find(".m-btn").each(function(){$(this).menubutton("destroy")}),t.find(".s-btn").each(function(){$(this).splitbutton("destroy")}),t.find(".tooltip-f").each(function(){$(this).tooltip("destroy")}),t.children("div").each(function(){$(this)._size("unfit")}),t.empty()}function _32(e){$(e).panel("doLayout",!0)}function _34(e,t){function a(){n.closed=!1,n.minimized=!1;var t=i.children(".panel-header").find("a.panel-tool-restore");t.length&&(n.maximized=!0),n.onOpen.call(e),1==n.maximized&&(n.maximized=!1,_3a(e)),1==n.collapsed&&(n.collapsed=!1,_3b(e)),n.collapsed||(_28(e),_32(e))}var n=$.data(e,"panel").options,i=$.data(e,"panel").panel;if(1==t||0!=n.onBeforeOpen.call(e))if(i.stop(!0,!0),$.isFunction(n.openAnimation))n.openAnimation.call(e,a);else switch(n.openAnimation){case"slide":i.slideDown(n.openDuration,a);break;case"fade":i.fadeIn(n.openDuration,a);break;case"show":i.show(n.openDuration,a);break;default:i.show(),a()}}function _3c(e,t){function a(){n.closed=!0,n.onClose.call(e)}var n=$.data(e,"panel").options,i=$.data(e,"panel").panel;if(1==t||0!=n.onBeforeClose.call(e))if(i.stop(!0,!0),i._size("unfit"),$.isFunction(n.closeAnimation))n.closeAnimation.call(e,a);else switch(n.closeAnimation){case"slide":i.slideUp(n.closeDuration,a);break;case"fade":i.fadeOut(n.closeDuration,a);break;case"hide":i.hide(n.closeDuration,a);break;default:i.hide(),a()}}function _41(e,t){var a=$.data(e,"panel"),n=a.options,i=a.panel;1!=t&&0==n.onBeforeDestroy.call(e)||($(e).panel("clear").panel("clear","footer"),_1(i),n.onDestroy.call(e))}function _3b(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel,i=n.children(".panelx-body"),o=n.children(".panel-header").find("a.panel-tool-collapse");1!=a.collapsed&&(i.stop(!0,!0),0!=a.onBeforeCollapse.call(e)&&(o.addClass("panel-tool-expand"),1==t?i.slideUp("normal",function(){a.collapsed=!0,a.onCollapse.call(e)}):(i.hide(),a.collapsed=!0,a.onCollapse.call(e))))}function _4d(e,t){var a=$.data(e,"panel").options,n=$.data(e,"panel").panel,i=n.children(".panelx-body"),o=n.children(".panel-header").find("a.panel-tool-collapse");0!=a.collapsed&&(i.stop(!0,!0),0!=a.onBeforeExpand.call(e)&&(o.removeClass("panel-tool-expand"),1==t?i.slideDown("normal",function(){a.collapsed=!1,a.onExpand.call(e),_28(e),_32(e)}):(i.show(),a.collapsed=!1,a.onExpand.call(e),_28(e),_32(e))))}function _3a(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel,n=a.children(".panel-header").find("a.panel-tool-max");1!=t.maximized&&(n.addClass("panel-tool-restore"),$.data(e,"panel").original||($.data(e,"panel").original={width:t.width,height:t.height,left:t.left,top:t.top,fit:t.fit}),t.left=0,t.top=0,t.fit=!0,_3(e),t.minimized=!1,t.maximized=!0,t.onMaximize.call(e))}function _58(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel;a._size("unfit"),a.hide(),t.minimized=!0,t.maximized=!1,t.onMinimize.call(e)}function _5c(e){var t=$.data(e,"panel").options,a=$.data(e,"panel").panel,n=a.children(".panel-header").find("a.panel-tool-max");0!=t.maximized&&(a.show(),n.removeClass("panel-tool-restore"),$.extend(t,$.data(e,"panel").original),_3(e),t.minimized=!1,t.maximized=!1,$.data(e,"panel").original=null,t.onRestore.call(e))}function _61(e,t){$.data(e,"panel").options.title=t,$(e).panel("header").find("div.panel-title").html(t)}$.fn._remove=function(){return this.each(function(){$(this).remove();try{this.outerHTML=""}catch(e){}})};var _64=null;$(window).unbind(".panelx").bind("resize.panel",function(){_64&&clearTimeout(_64),_64=setTimeout(function(){var e=$("body.layout");e.length?(e.layout("resize"),$("body").children(".easyui-fluid:visible").each(function(){$(this).triggerHandler("_resize")})):$("body").panel("doLayout"),_64=null},100)}),$.fn.panel=function(e,t){return"string"==typeof e?$.fn.panel.methods[e](this,t):(e=e||{},this.each(function(){var t,a=$.data(this,"panel");a?(t=$.extend(a.options,e),a.isLoaded=!1):(t=$.extend({},$.fn.panel.defaults,$.fn.panel.parseOptions(this),e),$(this).attr("title",""),a=$.data(this,"panel",{options:t,panel:_14(this),isLoaded:!1})),_18(this),1==t.doSize&&(a.panel.css("display","block"),_3(this)),1==t.closed||1==t.minimized?a.panel.hide():_34(this)}))},$.fn.panel.methods={options:function(e){return $.data(e[0],"panel").options},panel:function(e){return $.data(e[0],"panel").panel},header:function(e){return $.data(e[0],"panel").panel.children(".panel-header")},footer:function(e){return e.panel("panel").children(".panel-footer")},body:function(e){return $.data(e[0],"panel").panel.children(".panelx-body")},setTitle:function(e,t){return e.each(function(){_61(this,t)})},open:function(e,t){return e.each(function(){_34(this,t)})},close:function(e,t){return e.each(function(){_3c(this,t)})},destroy:function(e,t){return e.each(function(){_41(this,t)})},clear:function(e,t){return e.each(function(){_30("footer"==t?$(this).panel("footer"):this)})},refresh:function(e,t){return e.each(function(){var e=$.data(this,"panel");e.isLoaded=!1,t&&("string"==typeof t?e.options.href=t:e.options.queryParams=t),_28(this)})},resize:function(e,t){return e.each(function(){_3(this,t)})},doLayout:function(e,t){return e.each(function(){function e(e,a){if(e){var n=e==$("body")[0],i=$(e).find("div.panelx:visible,div.accordion:visible,div.tabs-container:visible,div.layout:visible,.easyui-fluid:visible").filter(function(t,i){var o=$(i).parents(".panelx-"+a+":first");return n?0==o.length:o[0]==e});i.each(function(){$(this).triggerHandler("_resize",[t||!1])})}}e(this,"body"),e($(this).siblings(".panel-footer")[0],"footer")})},move:function(e,t){return e.each(function(){_f(this,t)})},maximize:function(e){return e.each(function(){_3a(this)})},minimize:function(e){return e.each(function(){_58(this)})},restore:function(e){return e.each(function(){_5c(this)})},collapse:function(e,t){return e.each(function(){_3b(this,t)})},expand:function(e,t){return e.each(function(){_4d(this,t)})}},$.fn.panel.parseOptions=function(e){var t=$(e),a=t.children(".panel-header,header"),n=t.children(".panel-footer,footer");return $.extend({},$.parser.parseOptions(e,["id","width","height","left","top","title","iconCls","cls","headerCls","bodyCls","tools","href","method","header","footer",{cache:"boolean",fit:"boolean",border:"boolean",noheader:"boolean"},{collapsible:"boolean",minimizable:"boolean",maximizable:"boolean"},{closable:"boolean",collapsed:"boolean",minimized:"boolean",maximized:"boolean",closed:"boolean"},"openAnimation","closeAnimation",{openDuration:"number",closeDuration:"number"}]),{loadingMessage:void 0!=t.attr("loadingMessage")?t.attr("loadingMessage"):void 0,header:a.length?a.removeClass("panel-header"):void 0,footer:n.length?n.removeClass("panel-footer"):void 0})},$.fn.panel.defaults={id:null,title:null,iconCls:null,width:"auto",height:"auto",left:null,top:null,cls:null,headerCls:null,bodyCls:null,style:{},href:null,cache:!0,fit:!1,border:!0,doSize:!0,noheader:!1,content:null,collapsible:!1,minimizable:!1,maximizable:!1,closable:!1,collapsed:!1,minimized:!1,maximized:!1,closed:!1,openAnimation:!1,openDuration:400,closeAnimation:!1,closeDuration:400,tools:null,footer:null,header:null,queryParams:{},method:"get",href:null,loadingMessage:"Loading...",loader:function(e,t,a){var n=$(this).panel("options");return!!n.href&&void $.ajax({type:n.method,url:n.href,cache:!1,data:e,dataType:"html",success:function(e){t(e)},error:function(){a.apply(this,arguments)}})},extractor:function(e){var t=/<body[^>]*>((.|[\n\r])*)<\/body>/im,a=t.exec(e);return a?a[1]:e},onBeforeLoad:function(e){},onLoad:function(){},onLoadError:function(){},onBeforeOpen:function(){},onOpen:function(){},onBeforeClose:function(){},onClose:function(){},onBeforeDestroy:function(){},onDestroy:function(){},onResize:function(e,t){},onMove:function(e,t){},onMaximize:function(){},onRestore:function(){},onMinimize:function(){},onBeforeCollapse:function(){},onBeforeExpand:function(){},onCollapse:function(){},onExpand:function(){}}}(jQuery),function(e){function t(t,a){function n(e,t){for(var a=0,n=0;n<s.length;n++){var i=s[n],o=i.panel("header")._outerHeight(r);if(i.panel("options").collapsible==e){var d=isNaN(t)?void 0:t+r*o.length;i.panel("resize",{width:l.width(),height:e?d:void 0}),a+=i.panel("panel").outerHeight()-r*o.length}}return a}var i=e.data(t,"accordion"),o=i.options,s=i.panels,l=e(t);a&&e.extend(o,{width:a.width,height:a.height}),l._size(o);var r=0,d="auto",h=l.find(">.panel>.accordion-header");h.length&&(r=e(h[0]).css("height","")._outerHeight()),isNaN(parseInt(o.height))||(d=l.height()-r*h.length),n(!0,d-n(!1)+1)}function a(t,a,n,i){for(var o=e.data(t,"accordion").panels,s=[],l=0;l<o.length;l++){var r=o[l];if(a)r.panel("options")[a]==n&&s.push(r);else if(r[0]==e(n)[0])return l}return a?i?s:s.length?s[0]:null:-1}function n(e){return a(e,"collapsed",!1,!0)}function i(e){var t=n(e);return t.length?t[0]:null}function o(e,t){return a(e,null,t)}function s(t,n){var i=e.data(t,"accordion").panels;return"number"==typeof n?n<0||n>=i.length?null:i[n]:a(t,"title",n)}function l(t){var a=e.data(t,"accordion").options,n=e(t);a.border?n.removeClass("accordion-noborder"):n.addClass("accordion-noborder")}function r(a){var n=e.data(a,"accordion"),i=e(a);i.addClass("accordion"),n.panels=[],i.children("div").each(function(){var t=e.extend({},e.parser.parseOptions(this),{selected:!!e(this).attr("selected")||void 0}),i=e(this);n.panels.push(i),d(a,i,t)}),i.bind("_resize",function(n,i){return(e(this).hasClass("easyui-fluid")||i)&&t(a),!1})}function d(t,a,i){function s(e){var a=e.panel("options");if(a.collapsible){var n=o(t,e);a.collapsed?h(t,n):c(t,n)}}var l=e.data(t,"accordion").options;a.panel(e.extend({},{collapsible:!0,minimizable:!1,maximizable:!1,closable:!1,doSize:!1,collapsed:!0,headerCls:"accordion-header",bodyCls:"accordion-body"},i,{onBeforeExpand:function(){if(i.onBeforeExpand&&0==i.onBeforeExpand.call(this))return!1;if(!l.multiple)for(var a=e.grep(n(t),function(e){return e.panel("options").collapsible}),s=0;s<a.length;s++)c(t,o(t,a[s]));var r=e(this).panel("header");r.addClass("accordion-header-selected"),r.find(".accordion-collapse").removeClass("accordion-expand")},onExpand:function(){i.onExpand&&i.onExpand.call(this),l.onSelect.call(t,e(this).panel("options").title,o(t,this))},onBeforeCollapse:function(){if(i.onBeforeCollapse&&0==i.onBeforeCollapse.call(this))return!1;var t=e(this).panel("header");t.removeClass("accordion-header-selected"),t.find(".accordion-collapse").addClass("accordion-expand")},onCollapse:function(){i.onCollapse&&i.onCollapse.call(this),l.onUnselect.call(t,e(this).panel("options").title,o(t,this))}}));var r=a.panel("header"),d=r.children("div.panel-tool");d.children("a.panel-tool-collapse").hide();var p=e('<a href="javascript:void(0)"></a>').addClass("accordion-collapse accordion-expand").appendTo(d);p.bind("click",function(){return s(a),!1}),a.panel("options").collapsible?p.show():p.hide(),r.click(function(){return s(a),!1})}function h(t,a){var n=s(t,a);if(n){u(t);var i=e.data(t,"accordion").options;n.panel("expand",i.animate)}}function c(t,a){var n=s(t,a);if(n){u(t);var i=e.data(t,"accordion").options;n.panel("collapse",i.animate)}}function p(t){function n(e){var a=i.animate;i.animate=!1,h(t,e),i.animate=a}var i=e.data(t,"accordion").options,s=a(t,"selected",!0);n(s?o(t,s):i.selected)}function u(t){for(var a=e.data(t,"accordion").panels,n=0;n<a.length;n++)a[n].stop(!0,!0)}function f(a,n){var i=e.data(a,"accordion"),o=i.options,s=i.panels;void 0==n.selected&&(n.selected=!0),u(a);var l=e("<div></div>").appendTo(a);s.push(l),d(a,l,n),t(a),o.onAdd.call(a,n.title,s.length-1),n.selected&&h(a,s.length-1)}function b(a,n){var l=e.data(a,"accordion"),r=l.options,d=l.panels;u(a);var c=s(a,n),p=c.panel("options").title,f=o(a,c);if(c&&0!=r.onBeforeRemove.call(a,p,f)){if(d.splice(f,1),c.panel("destroy"),d.length){t(a);var b=i(a);b||h(a,0)}r.onRemove.call(a,p,f)}}e.fn.accordion=function(a,n){return"string"==typeof a?e.fn.accordion.methods[a](this,n):(a=a||{},this.each(function(){var n=e.data(this,"accordion");n?e.extend(n.options,a):(e.data(this,"accordion",{options:e.extend({},e.fn.accordion.defaults,e.fn.accordion.parseOptions(this),a),accordion:e(this).addClass("accordion"),panels:[]}),r(this)),l(this),t(this),p(this)}))},e.fn.accordion.methods={options:function(t){return e.data(t[0],"accordion").options},panels:function(t){return e.data(t[0],"accordion").panels},resize:function(e,a){return e.each(function(){t(this,a)})},getSelections:function(e){return n(e[0])},getSelected:function(e){return i(e[0])},getPanel:function(e,t){return s(e[0],t)},getPanelIndex:function(e,t){return o(e[0],t)},select:function(e,t){return e.each(function(){h(this,t)})},unselect:function(e,t){return e.each(function(){c(this,t)})},add:function(e,t){return e.each(function(){f(this,t)})},remove:function(e,t){return e.each(function(){b(this,t)})}},e.fn.accordion.parseOptions=function(t){e(t);return e.extend({},e.parser.parseOptions(t,["width","height",{fit:"boolean",border:"boolean",animate:"boolean",multiple:"boolean",selected:"number"}]))},e.fn.accordion.defaults={width:"auto",height:"auto",fit:!1,border:!0,animate:!0,multiple:!1,selected:0,onSelect:function(e,t){},onUnselect:function(e,t){},onAdd:function(e,t){},onBeforeRemove:function(e,t){},onRemove:function(e,t){}}}(jQuery),function($){function getContentWidth(e){var t=0;return $(e).children().each(function(){t+=$(this).outerWidth(!0)}),t}function setScrollers(e){var t=$.data(e,"tabs").options;if("left"!=t.tabPosition&&"right"!=t.tabPosition&&t.showHeader){var a=$(e).children("div.tabs-header"),n=a.children("div.tabs-tool:not(.tabs-tool-hidden)"),i=a.children("div.tabs-scroller-left"),o=a.children("div.tabs-scroller-right"),s=a.children("div.tabs-wrap"),l=a.outerHeight();t.plain&&(l-=l-a.height()),n._outerHeight(l);var r=getContentWidth(a.find("ul.tabs")),d=a.width()-n._outerWidth();r>d?(i.add(o).show()._outerHeight(l),"left"==t.toolPosition?(n.css({left:i.outerWidth(),right:""}),s.css({marginLeft:i.outerWidth()+n._outerWidth(),marginRight:o._outerWidth(),width:d-i.outerWidth()-o.outerWidth()})):(n.css({left:"",right:o.outerWidth()}),s.css({marginLeft:i.outerWidth(),marginRight:o.outerWidth()+n._outerWidth(),width:d-i.outerWidth()-o.outerWidth()}))):(i.add(o).hide(),"left"==t.toolPosition?(n.css({left:0,right:""}),s.css({marginLeft:n._outerWidth(),marginRight:0,width:d})):(n.css({left:"",right:0}),s.css({marginLeft:0,marginRight:n._outerWidth(),width:d})))}}function addTools(container){var opts=$.data(container,"tabs").options,header=$(container).children("div.tabs-header");if(opts.tools)if("string"==typeof opts.tools)$(opts.tools).addClass("tabs-tool").appendTo(header),$(opts.tools).show();else{header.children("div.tabs-tool").remove();for(var tools=$('<div class="tabs-tool"><table cellspacing="0" cellpadding="0" style="height:100%"><tr></tr></table></div>').appendTo(header),tr=tools.find("tr"),i=0;i<opts.tools.length;i++){var td=$("<td></td>").appendTo(tr),tool=$('<a href="javascript:void(0);"></a>').appendTo(td);tool[0].onclick=eval(opts.tools[i].handler||function(){}),tool.linkbutton($.extend({},opts.tools[i],{plain:!0}))}}else header.children("div.tabs-tool").remove()}function setSize(e,t){function a(e,t){var a=e.panel("options"),n=a.tab.find("a.tabs-inner"),t=t?t:parseInt(a.tabWidth||i.tabWidth||void 0);t?n._outerWidth(t):n.css("width",""),n._outerHeight(i.tabHeight),n.css("lineHeight",n.height()+"px"),n.find(".easyui-fluid:visible").triggerHandler("_resize")}var n=$.data(e,"tabs"),i=n.options,o=$(e);if(i.doSize){t&&$.extend(i,{width:t.width,height:t.height}),o._size(i);var s=o.children("div.tabs-header"),l=o.children("div.tabs-panels"),r=s.find("div.tabs-wrap"),d=r.find(".tabs");if(d.children("li").removeClass("tabs-first tabs-last"),d.children("li:first").addClass("tabs-first"),d.children("li:last").addClass("tabs-last"),"left"==i.tabPosition||"right"==i.tabPosition?(s._outerWidth(i.showHeader?i.headerWidth:0),l._outerWidth(o.width()-s.outerWidth()),s.add(l)._size("height",isNaN(parseInt(i.height))?"":o.height()),r._outerWidth(s.width()),d._outerWidth(r.width()).css("height","")):(s.children("div.tabs-scroller-left,div.tabs-scroller-right,div.tabs-tool:not(.tabs-tool-hidden)").css("display",i.showHeader?"block":"none"),s._outerWidth(o.width()).css("height",""),i.showHeader?(s.css("background-color",""),r.css("height","")):(s.css("background-color","transparent"),s._outerHeight(0),r._outerHeight(0)),d._outerHeight(i.tabHeight).css("width",""),d._outerHeight(d.outerHeight()-d.height()-1+i.tabHeight).css("width",""),l._size("height",isNaN(parseInt(i.height))?"":o.height()-s.outerHeight()),l._size("width",o.width())),n.tabs.length){var h=d.outerWidth(!0)-d.width(),c=d.children("li:first"),p=c.outerWidth(!0)-c.width(),u=s.width()-s.children(".tabs-tool:not(.tabs-tool-hidden)")._outerWidth(),f=Math.floor((u-h-p*n.tabs.length)/n.tabs.length);if($.map(n.tabs,function(e){a(e,i.justified&&$.inArray(i.tabPosition,["top","bottom"])>=0?f:void 0)}),i.justified&&$.inArray(i.tabPosition,["top","bottom"])>=0){var b=u-h-getContentWidth(d);a(n.tabs[n.tabs.length-1],f+b)}}setScrollers(e)}}function setSelectedSize(e){var t=$.data(e,"tabs").options,a=getSelectedTab(e);if(a){var n=$(e).children("div.tabs-panels"),i="auto"==t.width?"auto":n.width(),o="auto"==t.height?"auto":n.height();a.panel("resize",{width:i,height:o})}}function wrapTabs(e){var t=($.data(e,"tabs").tabs,$(e).addClass("tabs-container")),a=$('<div class="tabs-panels"></div>').insertBefore(t);t.children("div").each(function(){a[0].appendChild(this)}),t[0].appendChild(a[0]),$('<div class="tabs-header"><div class="tabs-scroller-left"></div><div class="tabs-scroller-right"></div><div class="tabs-wrap"><ul class="tabs"></ul></div></div>').prependTo(e),t.children("div.tabs-panels").children("div").each(function(t){var a=$.extend({},$.parser.parseOptions(this),{disabled:!!$(this).attr("disabled")||void 0,selected:!!$(this).attr("selected")||void 0});createTab(e,a,$(this))}),t.children("div.tabs-header").find(".tabs-scroller-left, .tabs-scroller-right").hover(function(){$(this).addClass("tabs-scroller-over")},function(){$(this).removeClass("tabs-scroller-over")}),t.bind("_resize",function(t,a){return($(this).hasClass("easyui-fluid")||a)&&(setSize(e),setSelectedSize(e)),!1})}function bindEvents(e){function t(e){var t=0;return e.parent().children("li").each(function(a){if(e[0]==this)return t=a,!1}),t}var a=$.data(e,"tabs"),n=a.options;$(e).children("div.tabs-header").unbind().bind("click",function(i){if($(i.target).hasClass("tabs-scroller-left"))$(e).tabs("scrollBy",-n.scrollIncrement);else{if(!$(i.target).hasClass("tabs-scroller-right")){var o=$(i.target).closest("li");if(o.hasClass("tabs-disabled"))return!1;var s=$(i.target).closest("a.tabs-close");if(s.length)closeTab(e,t(o));else if(o.length){var l=t(o),r=a.tabs[l].panel("options");r.collapsible?r.closed?selectTab(e,l):unselectTab(e,l):selectTab(e,l)}return!1}$(e).tabs("scrollBy",n.scrollIncrement)}}).bind("contextmenu",function(a){var i=$(a.target).closest("li");i.hasClass("tabs-disabled")||i.length&&n.onContextMenu.call(e,a,i.find("span.tabs-title").html(),t(i))})}function setProperties(e){var t=$.data(e,"tabs").options,a=$(e).children("div.tabs-header"),n=$(e).children("div.tabs-panels");a.removeClass("tabs-header-top tabs-header-bottom tabs-header-left tabs-header-right"),n.removeClass("tabs-panels-top tabs-panels-bottom tabs-panels-left tabs-panels-right"),"top"==t.tabPosition?a.insertBefore(n):"bottom"==t.tabPosition?(a.insertAfter(n),a.addClass("tabs-header-bottom"),n.addClass("tabs-panels-top")):"left"==t.tabPosition?(a.addClass("tabs-header-left"),n.addClass("tabs-panels-right")):"right"==t.tabPosition&&(a.addClass("tabs-header-right"),n.addClass("tabs-panels-left")),1==t.plain?a.addClass("tabs-header-plain"):a.removeClass("tabs-header-plain"),a.removeClass("tabs-header-narrow").addClass(t.narrow?"tabs-header-narrow":"");var i=a.find(".tabs");i.removeClass("tabs-pill").addClass(t.pill?"tabs-pill":""),i.removeClass("tabs-narrow").addClass(t.narrow?"tabs-narrow":""),i.removeClass("tabs-justified").addClass(t.justified?"tabs-justified":""),1==t.border?(a.removeClass("tabs-header-noborder"),n.removeClass("tabs-panels-noborder")):(a.addClass("tabs-header-noborder"),n.addClass("tabs-panels-noborder")),t.doSize=!0}function createTab(e,t,a){t=t||{};var n=$.data(e,"tabs"),i=n.tabs;(void 0==t.index||t.index>i.length)&&(t.index=i.length),t.index<0&&(t.index=0);var o=$(e).children("div.tabs-header").find("ul.tabs"),s=$(e).children("div.tabs-panels"),l=$('<li><a href="javascript:void(0)" class="tabs-inner"><span class="tabs-title"></span><span class="tabs-icon"></span></a></li>');a||(a=$("<div></div>")),t.index>=i.length?(l.appendTo(o),a.appendTo(s),i.push(a)):(l.insertBefore(o.children("li:eq("+t.index+")")),a.insertBefore(s.children("div.panel:eq("+t.index+")")),i.splice(t.index,0,a)),a.panel($.extend({},t,{tab:l,border:!1,noheader:!0,closed:!0,doSize:!1,iconCls:t.icon?t.icon:void 0,onLoad:function(){t.onLoad&&t.onLoad.call(this,arguments),n.options.onLoad.call(e,$(this))},onBeforeOpen:function(){if(t.onBeforeOpen&&0==t.onBeforeOpen.call(this))return!1;var a=$(e).tabs("getSelected");if(a){if(a[0]==this)return setSelectedSize(e),!1;if($(e).tabs("unselect",getTabIndex(e,a)),a=$(e).tabs("getSelected"))return!1}var n=$(this).panel("options");n.tab.addClass("tabs-selected");var i=$(e).find(">div.tabs-header>div.tabs-wrap"),o=n.tab.position().left,s=o+n.tab.outerWidth();if(o<0||s>i.width()){var l=o-(i.width()-n.tab.width())/2;$(e).tabs("scrollBy",l)}else $(e).tabs("scrollBy",0);var r=$(this).panel("panel");r.css("display","block"),setSelectedSize(e),r.css("display","none")},onOpen:function(){t.onOpen&&t.onOpen.call(this);var a=$(this).panel("options");n.selectHis.push(a.title),n.options.onSelect.call(e,a.title,getTabIndex(e,this))},onBeforeClose:function(){return(!t.onBeforeClose||0!=t.onBeforeClose.call(this))&&void $(this).panel("options").tab.removeClass("tabs-selected")},onClose:function(){t.onClose&&t.onClose.call(this);var a=$(this).panel("options");n.options.onUnselect.call(e,a.title,getTabIndex(e,this))}})),$(e).tabs("update",{tab:a,options:a.panel("options"),type:"header"})}function addTab(e,t){var a=$.data(e,"tabs"),n=a.options;void 0==t.selected&&(t.selected=!0),createTab(e,t),n.onAdd.call(e,t.title,t.index),t.selected&&selectTab(e,t.index)}function updateTab(e,t){t.type=t.type||"all";var a=$.data(e,"tabs").selectHis,n=t.tab,i=n.panel("options"),o=i.title;if($.extend(i,t.options,{iconCls:t.options.icon?t.options.icon:void 0}),"all"!=t.type&&"body"!=t.type||n.panel(),"all"==t.type||"header"==t.type){var s=i.tab;if(i.header)s.find(".tabs-inner").html($(i.header));else{var l=s.find("span.tabs-title"),r=s.find("span.tabs-icon");if(l.html(i.title),r.attr("class","tabs-icon"),s.find("a.tabs-close").remove(),i.closable?(l.addClass("tabs-closable"),$('<a href="javascript:void(0)" class="tabs-close"></a>').appendTo(s)):l.removeClass("tabs-closable"),i.iconCls?(l.addClass("tabs-with-icon"),r.addClass(i.iconCls)):l.removeClass("tabs-with-icon"),i.tools){var d=s.find("span.tabs-p-tool");if(!d.length)var d=$('<span class="tabs-p-tool"></span>').insertAfter(s.find("a.tabs-inner"));if($.isArray(i.tools)){d.empty();for(var h=0;h<i.tools.length;h++){var c=$('<a href="javascript:void(0)"></a>').appendTo(d);c.addClass(i.tools[h].iconCls),i.tools[h].handler&&c.bind("click",{handler:i.tools[h].handler},function(e){$(this).parents("li").hasClass("tabs-disabled")||e.data.handler.call(this)})}}else $(i.tools).children().appendTo(d);var p=12*d.children().length;i.closable?p+=8:(p-=3,d.css("right","5px")),l.css("padding-right",p+"px")}else s.find("span.tabs-p-tool").remove(),l.css("padding-right","")}if(o!=i.title)for(var h=0;h<a.length;h++)a[h]==o&&(a[h]=i.title)}i.disabled?i.tab.addClass("tabs-disabled"):i.tab.removeClass("tabs-disabled"),setSize(e),$.data(e,"tabs").options.onUpdate.call(e,i.title,getTabIndex(e,n))}function closeTab(e,t){var a=$.data(e,"tabs").options,n=$.data(e,"tabs").tabs,i=$.data(e,"tabs").selectHis;if(exists(e,t)){var o=getTab(e,t),s=o.panel("options").title,l=getTabIndex(e,o);
if(0!=a.onBeforeClose.call(e,s,l)){var o=getTab(e,t,!0);o.panel("options").tab.remove(),o.panel("destroy"),a.onClose.call(e,s,l),setSize(e);for(var r=0;r<i.length;r++)i[r]==s&&(i.splice(r,1),r--);var d=i.pop();d?selectTab(e,d):n.length&&selectTab(e,0)}}}function getTab(e,t,a){var n=$.data(e,"tabs").tabs;if("number"==typeof t){if(t<0||t>=n.length)return null;var i=n[t];return a&&n.splice(t,1),i}for(var o=0;o<n.length;o++){var i=n[o];if(i.panel("options").title==t)return a&&n.splice(o,1),i}return null}function getTabIndex(e,t){for(var a=$.data(e,"tabs").tabs,n=0;n<a.length;n++)if(a[n][0]==$(t)[0])return n;return-1}function getSelectedTab(e){for(var t=$.data(e,"tabs").tabs,a=0;a<t.length;a++){var n=t[a];if(n.panel("options").tab.hasClass("tabs-selected"))return n}return null}function doFirstSelect(e){for(var t=$.data(e,"tabs"),a=t.tabs,n=0;n<a.length;n++){var i=a[n].panel("options");if(i.selected&&!i.disabled)return void selectTab(e,n)}selectTab(e,t.options.selected)}function selectTab(e,t){var a=getTab(e,t);a&&!a.is(":visible")&&(stopAnimate(e),a.panel("options").disabled||a.panel("open"))}function unselectTab(e,t){var a=getTab(e,t);a&&a.is(":visible")&&(stopAnimate(e),a.panel("close"))}function stopAnimate(e){$(e).children("div.tabs-panels").each(function(){$(this).stop(!0,!0)})}function exists(e,t){return null!=getTab(e,t)}function showHeader(e,t){var a=$.data(e,"tabs").options;a.showHeader=t,$(e).tabs("resize")}function showTool(e,t){var a=$(e).find(">.tabs-header>.tabs-tool");t?a.removeClass("tabs-tool-hidden").show():a.addClass("tabs-tool-hidden").hide(),$(e).tabs("resize").tabs("scrollBy",0)}$.fn.tabs=function(e,t){return"string"==typeof e?$.fn.tabs.methods[e](this,t):(e=e||{},this.each(function(){var t=$.data(this,"tabs");t?$.extend(t.options,e):($.data(this,"tabs",{options:$.extend({},$.fn.tabs.defaults,$.fn.tabs.parseOptions(this),e),tabs:[],selectHis:[]}),wrapTabs(this)),addTools(this),setProperties(this),setSize(this),bindEvents(this),doFirstSelect(this)}))},$.fn.tabs.methods={options:function(e){var t=e[0],a=$.data(t,"tabs").options,n=getSelectedTab(t);return a.selected=n?getTabIndex(t,n):-1,a},tabs:function(e){return $.data(e[0],"tabs").tabs},resize:function(e,t){return e.each(function(){setSize(this,t),setSelectedSize(this)})},add:function(e,t){return e.each(function(){addTab(this,t)})},close:function(e,t){return e.each(function(){closeTab(this,t)})},getTab:function(e,t){return getTab(e[0],t)},getTabIndex:function(e,t){return getTabIndex(e[0],t)},getSelected:function(e){return getSelectedTab(e[0])},select:function(e,t){return e.each(function(){selectTab(this,t)})},unselect:function(e,t){return e.each(function(){unselectTab(this,t)})},exists:function(e,t){return exists(e[0],t)},update:function(e,t){return e.each(function(){updateTab(this,t)})},enableTab:function(e,t){return e.each(function(){var e=$(this).tabs("getTab",t).panel("options");e.tab.removeClass("tabs-disabled"),e.disabled=!1})},disableTab:function(e,t){return e.each(function(){var e=$(this).tabs("getTab",t).panel("options");e.tab.addClass("tabs-disabled"),e.disabled=!0})},showHeader:function(e){return e.each(function(){showHeader(this,!0)})},hideHeader:function(e){return e.each(function(){showHeader(this,!1)})},showTool:function(e){return e.each(function(){showTool(this,!0)})},hideTool:function(e){return e.each(function(){showTool(this,!1)})},scrollBy:function(e,t){return e.each(function(){function e(){var e=0,t=n.children("ul");return t.children("li").each(function(){e+=$(this).outerWidth(!0)}),e-n.width()+(t.outerWidth()-t.width())}var a=$(this).tabs("options"),n=$(this).find(">div.tabs-header>div.tabs-wrap"),i=Math.min(n._scrollLeft()+t,e());n.animate({scrollLeft:i},a.scrollDuration)})}},$.fn.tabs.parseOptions=function(e){return $.extend({},$.parser.parseOptions(e,["tools","toolPosition","tabPosition",{fit:"boolean",border:"boolean",plain:"boolean"},{headerWidth:"number",tabWidth:"number",tabHeight:"number",selected:"number"},{showHeader:"boolean",justified:"boolean",narrow:"boolean",pill:"boolean"}]))},$.fn.tabs.defaults={width:"auto",height:"auto",headerWidth:150,tabWidth:"auto",tabHeight:27,selected:0,showHeader:!0,plain:!1,fit:!1,border:!0,justified:!1,narrow:!1,pill:!1,tools:null,toolPosition:"right",tabPosition:"top",scrollIncrement:100,scrollDuration:400,onLoad:function(e){},onSelect:function(e,t){},onUnselect:function(e,t){},onBeforeClose:function(e,t){},onClose:function(e,t){},onAdd:function(e,t){},onUpdate:function(e,t){},onContextMenu:function(e,t,a){}}}(jQuery),function(e){function t(t,a){function n(e,t){if(e.length&&l(e)){var a=e.panel("options");e.panel("resize",{width:d.width(),height:a.height});var n=e.panel("panel").outerHeight();e.panel("move",{left:0,top:"n"==t?0:d.height()-n}),h.height-=n,"n"==t&&(h.top+=n,!a.split&&a.border&&h.top--),!a.split&&a.border&&h.height++}}function i(e,t){if(e.length&&l(e)){var a=e.panel("options");e.panel("resize",{width:a.width,height:h.height});var n=e.panel("panel").outerWidth();e.panel("move",{left:"e"==t?d.width()-n:0,top:h.top}),h.width-=n,"w"==t&&(h.left+=n,!a.split&&a.border&&h.left--),!a.split&&a.border&&h.width++}}var o=e.data(t,"layout"),s=o.options,r=o.panels,d=e(t);a&&e.extend(s,{width:a.width,height:a.height}),"body"==t.tagName.toLowerCase()?d._size("fit"):d._size(s);var h={top:0,left:0,width:d.width(),height:d.height()};n(l(r.expandNorth)?r.expandNorth:r.north,"n"),n(l(r.expandSouth)?r.expandSouth:r.south,"s"),i(l(r.expandEast)?r.expandEast:r.east,"e"),i(l(r.expandWest)?r.expandWest:r.west,"w"),r.center.panel("resize",h)}function a(a){function i(t){var i=t.layout("options"),o=i.onAdd;i.onAdd=function(){},t.children("div").each(function(){var t=e.fn.layout.parsePanelOptions(this);"north,south,east,west,center".indexOf(t.region)>=0&&n(a,t,this)}),i.onAdd=o}var o=e(a);o.addClass("layout"),i(o.children("form").length?o.children("form"):o),o.append('<div class="layout-split-proxy-h"></div><div class="layout-split-proxy-v"></div>'),o.bind("_resize",function(n,i){return(e(this).hasClass("easyui-fluid")||i)&&t(a),!1})}function n(a,n,i){n.region=n.region||"center";var s=e.data(a,"layout").panels,l=e(a),r=n.region;if(!s[r].length){var d=e(i);d.length||(d=e("<div></div>").appendTo(l));var c=e.extend({},e.fn.layout.paneldefaults,{width:d.length?parseInt(d[0].style.width)||d.outerWidth():"auto",height:d.length?parseInt(d[0].style.height)||d.outerHeight():"auto",doSize:!1,collapsible:!0,onOpen:function(){var t=e(this).panel("header").children("div.panel-tool");t.children("a.panel-tool-collapse").hide();var n={north:"up",south:"down",east:"right",west:"left"};if(n[r]){var i="layout-button-"+n[r],s=t.children("a."+i);s.length||(s=e('<a href="javascript:void(0)"></a>').addClass(i).appendTo(t),s.bind("click",{dir:r},function(e){return o(a,e.data.dir),!1})),e(this).panel("options").collapsible?s.show():s.hide()}}},n,{cls:(n.cls||"")+" layout-panel layout-panel-"+r,bodyCls:(n.bodyCls||"")+" layout-body"});d.panel(c),s[r]=d;var p={north:"s",south:"n",east:"w",west:"e"},u=d.panel("panel");d.panel("options").split&&u.addClass("layout-split-"+r),u.resizable(e.extend({},{handles:p[r]||"",disabled:!d.panel("options").split,onStartResize:function(t){if(h=!0,"north"==r||"south"==r)var n=e(">div.layout-split-proxy-v",a);else var n=e(">div.layout-split-proxy-h",a);var i={display:"block"};"north"==r?(i.top=parseInt(u.css("top"))+u.outerHeight()-n.height(),i.left=parseInt(u.css("left")),i.width=u.outerWidth(),i.height=n.height()):"south"==r?(i.top=parseInt(u.css("top")),i.left=parseInt(u.css("left")),i.width=u.outerWidth(),i.height=n.height()):"east"==r?(i.top=parseInt(u.css("top"))||0,i.left=parseInt(u.css("left"))||0,i.width=n.width(),i.height=u.outerHeight()):"west"==r&&(i.top=parseInt(u.css("top"))||0,i.left=u.outerWidth()-n.width(),i.width=n.width(),i.height=u.outerHeight()),n.css(i),e('<div class="layout-mask"></div>').css({left:0,top:0,width:l.width(),height:l.height()}).appendTo(l)},onResize:function(t){if("north"==r||"south"==r){var n=e(">div.layout-split-proxy-v",a);n.css("top",t.pageY-e(a).offset().top-n.height()/2)}else{var n=e(">div.layout-split-proxy-h",a);n.css("left",t.pageX-e(a).offset().left-n.width()/2)}return!1},onStopResize:function(e){l.children("div.layout-split-proxy-v,div.layout-split-proxy-h").hide(),d.panel("resize",e.data),t(a),h=!1,l.find(">div.layout-mask").remove()}},n)),l.layout("options").onAdd.call(a,r)}}function i(t,a){var n=e.data(t,"layout").panels;if(n[a].length){n[a].panel("destroy"),n[a]=e();var i="expand"+a.substring(0,1).toUpperCase()+a.substring(1);n[i]&&(n[i].panel("destroy"),n[i]=void 0),e(t).layout("options").onRemove.call(t,a)}}function o(t,a,n){function i(n){var i={east:"left",west:"right",north:"down",south:"up"},o="north"==p.region||"south"==p.region,l="layout-button-"+i[n],r=e("<div></div>").appendTo(t);if(r.panel(e.extend({},e.fn.layout.paneldefaults,{cls:"layout-expand layout-expand-"+n,title:"&nbsp;",iconCls:p.hideCollapsedContent?null:p.iconCls,closed:!0,minWidth:0,minHeight:0,doSize:!1,region:p.region,collapsedSize:p.collapsedSize,noheader:!o&&p.hideExpandTool,tools:o&&p.hideExpandTool?null:[{iconCls:l,handler:function(){return s(t,a),!1}}]})),!p.hideCollapsedContent){var d="function"==typeof p.collapsedContent?p.collapsedContent.call(r[0],p.title):p.collapsedContent;o?r.panel("setTitle",d):r.html(d)}return r.panel("panel").hover(function(){e(this).addClass("layout-expand-over")},function(){e(this).removeClass("layout-expand-over")}),r}function r(){var n=e(t),i=d.center.panel("options"),o=p.collapsedSize;if("east"==a){var s=c.panel("panel")._outerWidth(),r=i.width+s-o;return!p.split&&p.border||r++,{resizeC:{width:r},expand:{left:n.width()-s},expandP:{top:i.top,left:n.width()-o,width:o,height:i.height},collapse:{left:n.width(),top:i.top,height:i.height}}}if("west"==a){var s=c.panel("panel")._outerWidth(),r=i.width+s-o;return!p.split&&p.border||r++,{resizeC:{width:r,left:o-1},expand:{left:0},expandP:{left:0,top:i.top,width:o,height:i.height},collapse:{left:-s,top:i.top,height:i.height}}}if("north"==a){var h=c.panel("panel")._outerHeight(),u=i.height;return l(d.expandNorth)||(u+=h-o+(p.split||!p.border?1:0)),d.east.add(d.west).add(d.expandEast).add(d.expandWest).panel("resize",{top:o-1,height:u}),{resizeC:{top:o-1,height:u},expand:{top:0},expandP:{top:0,left:0,width:n.width(),height:o},collapse:{top:-h,width:n.width()}}}if("south"==a){var h=c.panel("panel")._outerHeight(),u=i.height;return l(d.expandSouth)||(u+=h-o+(p.split||!p.border?1:0)),d.east.add(d.west).add(d.expandEast).add(d.expandWest).panel("resize",{height:u}),{resizeC:{height:u},expand:{top:n.height()-h},expandP:{top:n.height()-o,left:0,width:n.width(),height:o},collapse:{top:n.height(),width:n.width()}}}}void 0==n&&(n="normal");var d=e.data(t,"layout").panels,c=d[a],p=c.panel("options");if(0!=p.onBeforeCollapse.call(c)){var u="expand"+a.substring(0,1).toUpperCase()+a.substring(1);if(!d[u]){d[u]=i(a);var f=d[u].panel("panel");p.expandMode?f.bind("click",function(){if("dock"==p.expandMode)s(t,a);else{c.panel("expand",!1).panel("open");var n=r();c.panel("resize",n.collapse),c.panel("panel").animate(n.expand,function(){e(this).unbind(".layout").bind("mouseleave.layout",{region:a},function(a){1!=h&&(e("body>div.combo-p>div.combo-panel:visible").length||o(t,a.data.region))}),e(t).layout("options").onExpand.call(t,a)})}return!1}):f.css("cursor","default")}var b=r();l(d[u])||d.center.panel("resize",b.resizeC),c.panel("panel").animate(b.collapse,n,function(){c.panel("collapse",!1).panel("close"),d[u].panel("open").panel("resize",b.expandP),e(this).unbind(".layout"),e(t).layout("options").onCollapse.call(t,a)})}}function s(a,n){function i(){var t=e(a),i=o.center.panel("options");return"east"==n&&o.expandEast?{collapse:{left:t.width(),top:i.top,height:i.height},expand:{left:t.width()-s.panel("panel")._outerWidth()}}:"west"==n&&o.expandWest?{collapse:{left:-s.panel("panel")._outerWidth(),top:i.top,height:i.height},expand:{left:0}}:"north"==n&&o.expandNorth?{collapse:{top:-s.panel("panel")._outerHeight(),width:t.width()},expand:{top:0}}:"south"==n&&o.expandSouth?{collapse:{top:t.height(),width:t.width()},expand:{top:t.height()-s.panel("panel")._outerHeight()}}:void 0}var o=e.data(a,"layout").panels,s=o[n],l=s.panel("options");if(0!=l.onBeforeExpand.call(s)){var r="expand"+n.substring(0,1).toUpperCase()+n.substring(1);if(o[r]){o[r].panel("close"),s.panel("panel").stop(!0,!0),s.panel("expand",!1).panel("open");var d=i();s.panel("resize",d.collapse),s.panel("panel").animate(d.expand,function(){t(a),e(a).layout("options").onExpand.call(a,n)})}}}function l(e){return!!e&&(!!e.length&&e.panel("panel").is(":visible"))}function r(t){function a(e){var a=s[e];a.length&&a.panel("options").collapsed&&o(t,e,0)}var n=e.data(t,"layout"),i=n.options,s=n.panels,l=i.onCollapse;i.onCollapse=function(){},a("east"),a("west"),a("north"),a("south"),i.onCollapse=l}function d(a,n,i){var o=e(a).layout("panel",n);o.panel("options").split=i;var s="layout-split-"+n,l=o.panel("panel").removeClass(s);i&&l.addClass(s),l.resizable({disabled:!i}),t(a)}var h=!1;e.fn.layout=function(n,i){return"string"==typeof n?e.fn.layout.methods[n](this,i):(n=n||{},this.each(function(){var i=e.data(this,"layout");if(i)e.extend(i.options,n);else{var o=e.extend({},e.fn.layout.defaults,e.fn.layout.parseOptions(this),n);e.data(this,"layout",{options:o,panels:{center:e(),north:e(),south:e(),east:e(),west:e()}}),a(this)}t(this),r(this)}))},e.fn.layout.methods={options:function(t){return e.data(t[0],"layout").options},resize:function(e,a){return e.each(function(){t(this,a)})},panel:function(t,a){return e.data(t[0],"layout").panels[a]},collapse:function(e,t){return e.each(function(){o(this,t)})},expand:function(e,t){return e.each(function(){s(this,t)})},add:function(a,i){return a.each(function(){n(this,i),t(this),e(this).layout("panel",i.region).panel("options").collapsed&&o(this,i.region,0)})},remove:function(e,a){return e.each(function(){i(this,a),t(this)})},split:function(e,t){return e.each(function(){d(this,t,!0)})},unsplit:function(e,t){return e.each(function(){d(this,t,!1)})}},e.fn.layout.parseOptions=function(t){return e.extend({},e.parser.parseOptions(t,[{fit:"boolean"}]))},e.fn.layout.defaults={fit:!1,onExpand:function(e){},onCollapse:function(e){},onAdd:function(e){},onRemove:function(e){}},e.fn.layout.parsePanelOptions=function(t){e(t);return e.extend({},e.fn.panel.parseOptions(t),e.parser.parseOptions(t,["region",{split:"boolean",collpasedSize:"number",minWidth:"number",minHeight:"number",maxWidth:"number",maxHeight:"number"}]))},e.fn.layout.paneldefaults=e.extend({},e.fn.panel.defaults,{region:null,split:!1,collapsedSize:28,expandMode:"float",hideExpandTool:!1,hideCollapsedContent:!0,collapsedContent:function(t){var a=e(this),n=a.panel("options");if("north"==n.region||"south"==n.region)return t;var i=n.collapsedSize-2,o=(i-16)/2;o=i-o;var s=[];return n.iconCls&&s.push('<div class="panel-icon '+n.iconCls+'"></div>'),s.push('<div class="panel-title layout-expand-title'),s.push(n.iconCls?" layout-expand-with-icon":""),s.push('" style="left:'+o+'px">'),s.push(t),s.push("</div>"),s.join("")},minWidth:10,minHeight:10,maxWidth:1e4,maxHeight:1e4})}(jQuery);