!function(t){var i=function(i,s){this.$element=t(i),this.options=t.extend({},t.fn.spinner.defaults,s),this.$input=this.$element.find(".spinner-input"),this.$element.on("keyup",this.$input,t.proxy(this.change,this)),this.options.hold?(this.$element.on("mousedown",".spinner-up",t.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup",".spinner-up, .spinner-down",t.proxy(this.stopSpin,this)),this.$element.on("mouseout",".spinner-up, .spinner-down",t.proxy(this.stopSpin,this)),this.$element.on("mousedown",".spinner-down",t.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click",".spinner-up",t.proxy(function(){this.step(!0)},this)),this.$element.on("click",".spinner-down",t.proxy(function(){this.step(!1)},this))),this.switches={count:1,enabled:!0},"medium"===this.options.speed?this.switches.speed=300:"fast"===this.options.speed?this.switches.speed=100:this.switches.speed=500,this.lastValue=null,this.render(),this.options.disabled&&this.disable()};i.prototype={constructor:i,render:function(){var t=this.$input.val();t?this.value(t):this.$input.val(this.options.value),this.$input.attr("maxlength",(this.options.max+"").split("").length)},change:function(){var t=this.$input.val();t/1?this.options.value=t/1:(t=t.replace(/[^0-9]/g,""),this.$input.val(t),this.options.value=t/1),this.triggerChangedEvent()},stopSpin:function(){clearTimeout(this.switches.timeout),this.switches.count=1,this.triggerChangedEvent()},triggerChangedEvent:function(){var t=this.value();t!==this.lastValue&&(this.lastValue=t,this.$element.trigger("changed",t),this.$element.trigger("change"))},startSpin:function(i){if(!this.options.disabled){var s=this.switches.count;1===s?(this.step(i),s=1):s=s<3?1.5:s<8?2.5:4,this.switches.timeout=setTimeout(t.proxy(function(){this.iterator(i)},this),this.switches.speed/s),this.switches.count++}},iterator:function(t){this.step(t),this.startSpin(t)},step:function(t){var i=this.options.value,s=t?this.options.max:this.options.min;if(t?i<s:i>s){var n=i+(t?1:-1)*this.options.step;(t?n>s:n<s)?this.value(s):this.value(n)}else if(this.options.cycle){var e=t?this.options.min:this.options.max;this.value(e)}},value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)?(t=parseFloat(t),this.options.value=t,this.$input.val(t),this):this.options.value},disable:function(){this.options.disabled=!0,this.$input.attr("disabled",""),this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1,this.$input.removeAttr("disabled"),this.$element.find("button").removeClass("disabled")}},t.fn.spinner=function(s,n){var e,o=this.each(function(){var o=t(this),h=o.data("spinner"),p="object"==typeof s&&s;h||o.data("spinner",h=new i(this,p)),"string"==typeof s&&(e=h[s](n))});return void 0===e?o:e},t.fn.spinner.defaults={value:1,min:1,max:999,step:1,hold:!0,speed:"medium",disabled:!1},t.fn.spinner.Constructor=i,t(function(){t("body").on("mousedown.spinner.data-api",".spinner",function(){var i=t(this);i.data("spinner")||i.spinner(i.data())})})}(window.jQuery);